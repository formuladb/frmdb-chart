<!DOCTYPE html>
<html>

<head>
  <title>Chart.js Web Component</title>
</head>

<body>
  <button id='add-series'>Add Series</button>
  <frmdb-chart options='{ "scales": { "yAxes": [ { "id": "A", "position": "left", "type": "linear"}, { "id": "B", "position": "right", "type": "linear" } ] } }'
    type='line' height="250" width="800"
  >
    <frmdb-chart-series name='Series 1' options='{"yAxisID": "A", "borderColor": "green"}' suffix="suf">
      <frmdb-chart-p><frmdb-chart-p-x>Red</frmdb-chart-p-x><frmdb-chart-p-y>2512</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Blue</frmdb-chart-p-x><frmdb-chart-p-y>256</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Green</frmdb-chart-p-x><frmdb-chart-p-y>6616</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>White</frmdb-chart-p-x><frmdb-chart-p-y>662</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Yellow</frmdb-chart-p-x><frmdb-chart-p-y>998</frmdb-chart-p-y></frmdb-chart-p>
    </frmdb-chart-series>
    <frmdb-chart-series name='Series 2' options='{"yAxisID": "B"}' suffix="suf">
      <frmdb-chart-p><frmdb-chart-p-x>Red</frmdb-chart-p-x><frmdb-chart-p-y>1200</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Blue</frmdb-chart-p-x><frmdb-chart-p-y>600</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Green</frmdb-chart-p-x><frmdb-chart-p-y>1600</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>White</frmdb-chart-p-x><frmdb-chart-p-y>200</frmdb-chart-p-y></frmdb-chart-p>
      <frmdb-chart-p><frmdb-chart-p-x>Yellow</frmdb-chart-p-x><frmdb-chart-p-y>800</frmdb-chart-p-y></frmdb-chart-p>
    </frmdb-chart-series>    
  </frmdb-chart>

  <script src="./frmdb-chart.js"></script>

  <script>
    document.querySelector('button#add-series').addEventListener('click', () => {
      let series = document.createElement('frmdb-chart-series');
      series.setAttribute('name', `Series ${Math.floor(Math.random() * 5000)}`);
      ['Red', 'White', 'Yellow', 'Green', 'Blue'].map(c => {
        let dp = document.createElement('frmdb-chart-p');
        dp.innerHTML = `<frmdb-chart-p-x>${c}</frmdb-chart-p-x><frmdb-chart-p-y>${Math.floor(Math.random() * 16)}</frmdb-chart-p-y>`;
        return dp;
      }).forEach(dp => series.appendChild(dp));
      document.querySelector('frmdb-chart').appendChild(series);
    });
  </script>

</body>

</html>